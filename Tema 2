%Tema nr. 2 - Semnale si Programare 
	%Ivan Maria-Alexandra grupa 422D
	%Numarul de ordine 11
	%impar => dreptunghiular
	%Semnal dreptunghiular cu perioada P=40[sec]
	%Durata semnalelor D=11[sec]
	%Numar de coeficienti Fourier N=50
	
	D=11;
	N=50;
	P=40;
	F=1/P;
	t=0:0.02:P-0.02; 
	w0=2*pi*F;
	
	%generez un vector cu zerouri:
	x = zeros(1,size(t,2));
	
	
	%aranjarea vectorului
	x(t<=D)=1;
	x(t>D)=-1;
	x(t>P-D)=1;
	
	
	%seria
	for k = -N:N
	xt = x;
	xt = xt.*exp(-j*k*w0*t);
	X(k+51) = trapz(t,xt); 
	
	end
	
	%reconstruirea semnalului (aproximare)
	x_aprox(1:length(t)) = 0; 
	
	for const = 1:length(t);
	for k = -N:N
	x_aprox(const) = x_aprox(const) + (1/P)*X(k+N+1)*exp(j*k*w0*t(const))
	end
	end % semnalul dat cu coeficientii seriei
	
	figure(1);
	plot(t,x); % afisez mai intai x(t)
	
	title('x(t) si semnalul alcatuit prin esantionare');
	hold on
	
	plot(t,x_aprox,'r'); 
	
	xlabel('Timp (s)');
	ylabel('Amplitudine');
	
	
	fr = -N*F:F:N*F; % vectorul de frecvente pentru afisarea semnalului
	figure(2);
	stem(fr,abs(X)); 
	title('Spectrul x(t)');
	xlabel('Frecventa (Hz)');
	ylabel('|X|');
	
	
	
	%Ca si comentariu... Seriile Fourier( SFC, SFT, SFA) practic aproximeaza
	%semnalul periodic printr-o suma infinita de sinusuri sau cosinusuri
	%fiecare putand avea diferite frecvente si fiecare avand un coeficient propriu
	%Numarul de termeni este finit, deci din start nu putem spune ca semnalul
	%initial este aproximat la perfectiune. Insa cu cat acest numar este marit
	%cu atat creste buna aproximare adica scade marja de eroare. Concluzia este
	%ca am aproximat semnalul initial cu o anumita marja de eroare data de
	%numarul de termeni.
	%Din cursuri am observat ca semnalul poate fi analizat pe esantioane
	%si aproximat astfel incat sa obtinem un model cat mai apropiat de cel real
	%si o eroare cat mai mica. Astfel, am esantionat si am calculat
	%coeficientii seriei Fourier.
